<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TV Navigation Framework - Advanced Examples</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 1200px; margin: 0 auto; padding: 20px; }
        .example-section { margin: 40px 0; padding: 30px; border: 1px solid #ddd; border-radius: 10px; }
        .example-header { background: #f8f9fa; padding: 20px; margin: -30px -30px 20px -30px; border-radius: 10px 10px 0 0; }
        pre { background: #f8f9fa; padding: 20px; border-radius: 8px; overflow-x: auto; }
        .code-tabs { display: flex; margin-bottom: 20px; }
        .code-tab { padding: 10px 20px; background: #e9ecef; border: none; cursor: pointer; }
        .code-tab.active { background: #007bff; color: white; }
        .code-content { display: none; }
        .code-content.active { display: block; }
        .note { background: #d1ecf1; padding: 15px; border-radius: 5px; margin: 15px 0; }
        .warning { background: #fff3cd; padding: 15px; border-radius: 5px; margin: 15px 0; }
    </style>
</head>
<body>
    <h1>üöÄ TV Navigation Framework - Advanced Examples</h1>

    <div class="example-section">
        <div class="example-header">
            <h2>üì∫ Netflix-Style Media Grid</h2>
            <p>Complete implementation of a Netflix-like interface with multiple rows of content</p>
        </div>

        <div class="code-tabs">
            <button class="code-tab active" onclick="showTab('netflix-html')">HTML</button>
            <button class="code-tab" onclick="showTab('netflix-css')">CSS</button>
            <button class="code-tab" onclick="showTab('netflix-js')">JavaScript</button>
        </div>

        <div id="netflix-html" class="code-content active">
            <pre><code>&lt;!-- Netflix-Style Media Grid --&gt;
&lt;div class="media-app tv-nav-theme-netflix"&gt;
  &lt;!-- Navigation Header --&gt;
  &lt;nav class="media-nav"&gt;
    &lt;div class="nav-brand"&gt;
      &lt;img src="logo.png" alt="StreamFlix"&gt;
    &lt;/div&gt;
    &lt;ul class="nav-menu"&gt;
      &lt;li&gt;&lt;a href="#" class="nav-link tv-nav-focusable"&gt;Home&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href="#" class="nav-link tv-nav-focusable"&gt;Movies&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href="#" class="nav-link tv-nav-focusable"&gt;TV Shows&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href="#" class="nav-link tv-nav-focusable"&gt;My List&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
    &lt;div class="nav-actions"&gt;
      &lt;button class="btn-search tv-nav-focusable"&gt;üîç&lt;/button&gt;
      &lt;button class="btn-profile tv-nav-focusable"&gt;üë§&lt;/button&gt;
    &lt;/div&gt;
  &lt;/nav&gt;

  &lt;!-- Hero Banner --&gt;
  &lt;section class="hero-banner"&gt;
    &lt;div class="hero-content"&gt;
      &lt;h1 class="hero-title"&gt;Featured Movie Title&lt;/h1&gt;
      &lt;p class="hero-description"&gt;Epic adventure awaits in this blockbuster film...&lt;/p&gt;
      &lt;div class="hero-actions"&gt;
        &lt;button class="btn-play tv-nav-focusable"&gt;‚ñ∂Ô∏è Play&lt;/button&gt;
        &lt;button class="btn-info tv-nav-focusable"&gt;‚ÑπÔ∏è More Info&lt;/button&gt;
        &lt;button class="btn-list tv-nav-focusable"&gt;+ My List&lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="hero-background"&gt;
      &lt;img src="hero-movie.jpg" alt="Featured Movie"&gt;
    &lt;/div&gt;
  &lt;/section&gt;

  &lt;!-- Content Rows --&gt;
  &lt;main class="content-grid"&gt;
    &lt;section class="content-row" data-section="trending"&gt;
      &lt;h2 class="row-title"&gt;Trending Now&lt;/h2&gt;
      &lt;div class="media-carousel"&gt;
        &lt;div class="carousel-container"&gt;
          &lt;div class="media-item tv-nav-focusable" data-movie-id="1"&gt;
            &lt;img src="movie1.jpg" alt="Movie 1"&gt;
            &lt;div class="media-overlay"&gt;
              &lt;h4&gt;Action Movie&lt;/h4&gt;
              &lt;div class="media-meta"&gt;
                &lt;span class="rating"&gt;‚≠ê 4.5&lt;/span&gt;
                &lt;span class="year"&gt;2024&lt;/span&gt;
                &lt;span class="duration"&gt;2h 15m&lt;/span&gt;
              &lt;/div&gt;
              &lt;div class="media-actions"&gt;
                &lt;button class="btn-play-small"&gt;‚ñ∂Ô∏è&lt;/button&gt;
                &lt;button class="btn-add"&gt;+&lt;/button&gt;
                &lt;button class="btn-like"&gt;üëç&lt;/button&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
          &lt;!-- Repeat for more items --&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/section&gt;

    &lt;section class="content-row" data-section="recommended"&gt;
      &lt;h2 class="row-title"&gt;Recommended for You&lt;/h2&gt;
      &lt;div class="media-carousel"&gt;
        &lt;!-- More media items --&gt;
      &lt;/div&gt;
    &lt;/section&gt;
  &lt;/main&gt;
&lt;/div&gt;</code></pre>
        </div>

        <div id="netflix-css" class="code-content">
            <pre><code>/* Netflix-Style Media Grid CSS */
.media-app {
  min-height: 100vh;
  background: #141414;
  color: white;
  overflow-x: hidden;
}

.media-nav {
  display: flex;
  align-items: center;
  padding: 20px 60px;
  background: rgba(20, 20, 20, 0.9);
  backdrop-filter: blur(10px);
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 100;
}

.nav-menu {
  display: flex;
  list-style: none;
  margin: 0 40px;
  padding: 0;
  gap: 30px;
}

.nav-link {
  color: #e5e5e5;
  text-decoration: none;
  padding: 10px 15px;
  border-radius: 4px;
  transition: all 0.3s ease;
}

.nav-link.tv-nav-focused {
  background: rgba(229, 9, 20, 0.8);
  color: white;
}

.hero-banner {
  position: relative;
  height: 70vh;
  display: flex;
  align-items: center;
  background: linear-gradient(90deg, rgba(0,0,0,0.8) 0%, transparent 60%);
  margin-top: 80px;
}

.hero-content {
  padding: 0 60px;
  max-width: 50%;
  z-index: 2;
}

.hero-title {
  font-size: 3.5rem;
  font-weight: 900;
  margin-bottom: 20px;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
}

.hero-actions {
  display: flex;
  gap: 15px;
  margin-top: 30px;
}

.btn-play {
  background: white;
  color: black;
  padding: 15px 30px;
  border: none;
  border-radius: 6px;
  font-size: 1.2rem;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
}

.btn-play.tv-nav-focused {
  background: #e5e5e5;
  transform: scale(1.05);
}

.content-grid {
  padding: 40px 60px;
  display: flex;
  flex-direction: column;
  gap: 40px;
}

.content-row {
  position: relative;
}

.row-title {
  font-size: 1.4rem;
  font-weight: 600;
  margin-bottom: 20px;
  color: #e5e5e5;
}

.media-carousel {
  overflow: hidden;
}

.carousel-container {
  display: flex;
  gap: 8px;
  transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.media-item {
  min-width: 300px;
  height: 169px;
  position: relative;
  cursor: pointer;
  border-radius: 4px;
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);
}

.media-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.media-item.tv-nav-focused {
  transform: scale(1.08) translateZ(0);
  z-index: 10;
  box-shadow: 0 20px 40px rgba(0,0,0,0.8);
}

.media-overlay {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(transparent, rgba(0,0,0,0.9));
  padding: 20px;
  transform: translateY(100%);
  transition: transform 0.3s ease;
}

.media-item.tv-nav-focused .media-overlay {
  transform: translateY(0);
}

.media-actions {
  display: flex;
  gap: 10px;
  margin-top: 10px;
}

.media-actions button {
  background: rgba(255,255,255,0.2);
  border: 1px solid rgba(255,255,255,0.3);
  color: white;
  width: 35px;
  height: 35px;
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.3s ease;
}

.media-actions button:hover {
  background: rgba(255,255,255,0.3);
}</code></pre>
        </div>

        <div id="netflix-js" class="code-content">
            <pre><code>// Netflix-Style Media Grid JavaScript
class NetflixInterface {
  constructor() {
    this.currentRow = 0;
    this.currentItem = 0;
    this.rows = [];
    this.init();
  }

  init() {
    this.setupRows();
    this.setupNavigation();
    this.setupMediaHandlers();
    this.preloadContent();
  }

  setupRows() {
    this.rows = Array.from(document.querySelectorAll('.content-row'));
    this.rows.forEach((row, index) => {
      const items = row.querySelectorAll('.media-item');
      items.forEach((item, itemIndex) => {
        item.dataset.rowIndex = index;
        item.dataset.itemIndex = itemIndex;
      });
    });
  }

  setupNavigation() {
    // Enhanced navigation for media grid
    document.addEventListener('tv-nav-navigate', (e) => {
      const { direction, from, to } = e.detail;
      
      if (direction === 'right' && this.isLastItemInRow(from)) {
        this.scrollRowRight(from);
      } else if (direction === 'left' && this.isFirstItemInRow(from)) {
        this.scrollRowLeft(from);
      }
      
      // Auto-scroll hero banner based on navigation
      if (this.isInHeroSection(to)) {
        this.updateHeroBanner(to);
      }
    });

    // Page navigation with shoulder buttons
    document.addEventListener('keydown', (e) => {
      if (e.key === 'PageDown' || e.code === 'ShoulderRight') {
        this.navigateToNextRow();
      } else if (e.key === 'PageUp' || e.code === 'ShoulderLeft') {
        this.navigateToPreviousRow();
      }
    });
  }

  setupMediaHandlers() {
    // Handle media selection
    document.addEventListener('tv-nav-activate', (e) => {
      const element = e.detail.element;
      
      if (element.classList.contains('media-item')) {
        this.selectMedia(element);
      } else if (element.classList.contains('btn-play')) {
        this.playMedia();
      } else if (element.classList.contains('btn-info')) {
        this.showMediaInfo();
      }
    });
  }

  selectMedia(mediaElement) {
    const movieId = mediaElement.dataset.movieId;
    const movieData = this.getMovieData(movieId);
    
    // Update hero section with selected media
    this.updateHeroWithMedia(movieData);
    
    // Show detailed overlay
    this.showMediaDetails(movieData);
    
    // Play preview after delay
    setTimeout(() => {
      this.playPreview(movieId);
    }, 2000);
  }

  scrollRowRight(currentElement) {
    const row = currentElement.closest('.content-row');
    const container = row.querySelector('.carousel-container');
    const itemWidth = 308; // 300px + 8px gap
    
    const currentTransform = this.getTransformX(container);
    const newTransform = currentTransform - itemWidth;
    
    container.style.transform = `translateX(${newTransform}px)`;
    
    // Load more content if near end
    this.lazyLoadMoreContent(row);
  }

  scrollRowLeft(currentElement) {
    const row = currentElement.closest('.content-row');
    const container = row.querySelector('.carousel-container');
    const itemWidth = 308;
    
    const currentTransform = this.getTransformX(container);
    const newTransform = Math.min(currentTransform + itemWidth, 0);
    
    container.style.transform = `translateX(${newTransform}px)`;
  }

  navigateToNextRow() {
    const currentSection = this.getCurrentSection();
    const nextSection = this.getNextSection(currentSection);
    
    if (nextSection) {
      const firstItem = nextSection.querySelector('.media-item.tv-nav-focusable');
      if (firstItem) {
        tvNav.setFocus(firstItem);
        this.updateBreadcrumb(nextSection.dataset.section);
      }
    }
  }

  navigateToPreviousRow() {
    const currentSection = this.getCurrentSection();
    const prevSection = this.getPreviousSection(currentSection);
    
    if (prevSection) {
      const firstItem = prevSection.querySelector('.media-item.tv-nav-focusable');
      if (firstItem) {
        tvNav.setFocus(firstItem);
        this.updateBreadcrumb(prevSection.dataset.section);
      }
    }
  }

  lazyLoadMoreContent(row) {
    const container = row.querySelector('.carousel-container');
    const items = container.querySelectorAll('.media-item');
    const lastItem = items[items.length - 1];
    
    // Load more if near the end
    if (this.isNearEnd(container, lastItem)) {
      this.loadMoreItems(row);
    }
  }

  async loadMoreItems(row) {
    const section = row.dataset.section;
    const currentCount = row.querySelectorAll('.media-item').length;
    
    try {
      const newItems = await this.fetchMoreContent(section, currentCount);
      this.appendItemsToRow(row, newItems);
    } catch (error) {
      console.error('Failed to load more content:', error);
    }
  }

  async fetchMoreContent(section, offset) {
    // Simulate API call
    const response = await fetch(`/api/content/${section}?offset=${offset}&limit=10`);
    return await response.json();
  }

  appendItemsToRow(row, items) {
    const container = row.querySelector('.carousel-container');
    
    items.forEach((item, index) => {
      const mediaElement = this.createMediaItem(item);
      container.appendChild(mediaElement);
      
      // Make it focusable
      tvNav.addFocusableElement(mediaElement);
    });
  }

  createMediaItem(itemData) {
    const mediaItem = document.createElement('div');
    mediaItem.className = 'media-item tv-nav-focusable';
    mediaItem.dataset.movieId = itemData.id;
    
    mediaItem.innerHTML = `
      &lt;img src="${itemData.thumbnail}" alt="${itemData.title}" loading="lazy"&gt;
      &lt;div class="media-overlay"&gt;
        &lt;h4&gt;${itemData.title}&lt;/h4&gt;
        &lt;div class="media-meta"&gt;
          &lt;span class="rating"&gt;‚≠ê ${itemData.rating}&lt;/span&gt;
          &lt;span class="year"&gt;${itemData.year}&lt;/span&gt;
          &lt;span class="duration"&gt;${itemData.duration}&lt;/span&gt;
        &lt;/div&gt;
        &lt;div class="media-actions"&gt;
          &lt;button class="btn-play-small"&gt;‚ñ∂Ô∏è&lt;/button&gt;
          &lt;button class="btn-add"&gt;+&lt;/button&gt;
          &lt;button class="btn-like"&gt;üëç&lt;/button&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    `;
    
    return mediaItem;
  }

  // Utility methods
  getTransformX(element) {
    const transform = element.style.transform;
    if (!transform) return 0;
    
    const match = transform.match(/translateX\((-?\d+)px\)/);
    return match ? parseInt(match[1]) : 0;
  }

  isLastItemInRow(element) {
    const row = element.closest('.content-row');
    const items = row.querySelectorAll('.media-item');
    return element === items[items.length - 1];
  }

  isFirstItemInRow(element) {
    const row = element.closest('.content-row');
    const firstItem = row.querySelector('.media-item');
    return element === firstItem;
  }

  getCurrentSection() {
    return tvNav.currentFocus?.closest('.content-row');
  }

  getNextSection(currentSection) {
    return currentSection?.nextElementSibling;
  }

  getPreviousSection(currentSection) {
    return currentSection?.previousElementSibling;
  }

  updateBreadcrumb(sectionName) {
    tvNav.updateBreadcrumb(`${sectionName.charAt(0).toUpperCase() + sectionName.slice(1)}`);
  }
}

// Initialize Netflix Interface
document.addEventListener('tv-nav-ready', () => {
  const netflixInterface = new NetflixInterface();
  window.netflixInterface = netflixInterface;
});</code></pre>
        </div>
    </div>

    <div class="example-section">
        <div class="example-header">
            <h2>üéÆ Gaming Console Interface</h2>
            <p>Complete gaming dashboard with tile-based navigation</p>
        </div>

        <div class="code-tabs">
            <button class="code-tab active" onclick="showTab('gaming-html')">HTML</button>
            <button class="code-tab" onclick="showTab('gaming-css')">CSS</button>
            <button class="code-tab" onclick="showTab('gaming-js')">JavaScript</button>
        </div>

        <div id="gaming-html" class="code-content active">
            <pre><code>&lt;!-- Gaming Console Interface --&gt;
&lt;div class="gaming-dashboard tv-nav-theme-xbox"&gt;
  &lt;!-- Top Navigation --&gt;
  &lt;header class="gaming-header"&gt;
    &lt;div class="header-left"&gt;
      &lt;button class="xbox-button tv-nav-focusable"&gt;üéÆ&lt;/button&gt;
      &lt;span class="user-gamertag"&gt;Player123&lt;/span&gt;
    &lt;/div&gt;
    &lt;nav class="header-nav"&gt;
      &lt;button class="nav-tab tv-nav-focusable active" data-section="home"&gt;Home&lt;/button&gt;
      &lt;button class="nav-tab tv-nav-focusable" data-section="games"&gt;My Games&lt;/button&gt;
      &lt;button class="nav-tab tv-nav-focusable" data-section="store"&gt;Store&lt;/button&gt;
      &lt;button class="nav-tab tv-nav-focusable" data-section="friends"&gt;Friends&lt;/button&gt;
    &lt;/nav&gt;
    &lt;div class="header-right"&gt;
      &lt;button class="btn-settings tv-nav-focusable"&gt;‚öôÔ∏è&lt;/button&gt;
      &lt;button class="btn-power tv-nav-focusable"&gt;‚èª&lt;/button&gt;
    &lt;/div&gt;
  &lt;/header&gt;

  &lt;!-- Main Content --&gt;
  &lt;main class="gaming-content"&gt;
    &lt;!-- Home Section --&gt;
    &lt;section class="content-section active" data-section="home"&gt;
      &lt;!-- Featured Game --&gt;
      &lt;div class="featured-game"&gt;
        &lt;div class="featured-background"&gt;
          &lt;img src="featured-game.jpg" alt="Featured Game"&gt;
        &lt;/div&gt;
        &lt;div class="featured-content"&gt;
          &lt;h1 class="game-title"&gt;Halo Infinite&lt;/h1&gt;
          &lt;p class="game-description"&gt;Master Chief returns in the biggest Halo adventure yet.&lt;/p&gt;
          &lt;div class="featured-actions"&gt;
            &lt;button class="btn-play-large tv-nav-focusable"&gt;Play&lt;/button&gt;
            &lt;button class="btn-install tv-nav-focusable"&gt;Install&lt;/button&gt;
            &lt;button class="btn-details tv-nav-focusable"&gt;Details&lt;/button&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;!-- Quick Access Grid --&gt;
      &lt;div class="quick-access"&gt;
        &lt;h2&gt;Quick Access&lt;/h2&gt;
        &lt;div class="tile-grid"&gt;
          &lt;div class="game-tile tv-nav-focusable large" data-game="forza"&gt;
            &lt;img src="forza.jpg" alt="Forza Horizon"&gt;
            &lt;div class="tile-info"&gt;
              &lt;h3&gt;Forza Horizon 5&lt;/h3&gt;
              &lt;p&gt;Last played 2 hours ago&lt;/p&gt;
            &lt;/div&gt;
          &lt;/div&gt;
          &lt;div class="game-tile tv-nav-focusable" data-game="minecraft"&gt;
            &lt;img src="minecraft.jpg" alt="Minecraft"&gt;
            &lt;div class="tile-info"&gt;
              &lt;h3&gt;Minecraft&lt;/h3&gt;
            &lt;/div&gt;
          &lt;/div&gt;
          &lt;div class="game-tile tv-nav-focusable" data-game="cod"&gt;
            &lt;img src="cod.jpg" alt="Call of Duty"&gt;
            &lt;div class="tile-info"&gt;
              &lt;h3&gt;Call of Duty&lt;/h3&gt;
            &lt;/div&gt;
          &lt;/div&gt;
          &lt;div class="achievement-tile tv-nav-focusable"&gt;
            &lt;div class="achievement-icon"&gt;üèÜ&lt;/div&gt;
            &lt;div class="achievement-info"&gt;
              &lt;h3&gt;Recent Achievement&lt;/h3&gt;
              &lt;p&gt;"Master Chief" unlocked&lt;/p&gt;
            &lt;/div&gt;
          &lt;/div&gt;
          &lt;div class="store-tile tv-nav-focusable"&gt;
            &lt;div class="store-icon"&gt;üè™&lt;/div&gt;
            &lt;div class="store-info"&gt;
              &lt;h3&gt;Game Pass&lt;/h3&gt;
              &lt;p&gt;New games this month&lt;/p&gt;
            &lt;/div&gt;
          &lt;/div&gt;
          &lt;div class="friends-tile tv-nav-focusable"&gt;
            &lt;div class="friends-icon"&gt;üë•&lt;/div&gt;
            &lt;div class="friends-info"&gt;
              &lt;h3&gt;3 Friends Online&lt;/h3&gt;
              &lt;p&gt;Join party&lt;/p&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/section&gt;

    &lt;!-- Games Library Section --&gt;
    &lt;section class="content-section" data-section="games"&gt;
      &lt;div class="games-header"&gt;
        &lt;h2&gt;My Games &amp; Apps&lt;/h2&gt;
        &lt;div class="games-filters"&gt;
          &lt;button class="filter-btn tv-nav-focusable active" data-filter="all"&gt;All&lt;/button&gt;
          &lt;button class="filter-btn tv-nav-focusable" data-filter="installed"&gt;Installed&lt;/button&gt;
          &lt;button class="filter-btn tv-nav-focusable" data-filter="ready"&gt;Ready to Install&lt;/button&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;div class="games-grid"&gt;
        &lt;!-- Game items will be dynamically loaded --&gt;
      &lt;/div&gt;
    &lt;/section&gt;
  &lt;/main&gt;

  &lt;!-- Side Panel (Context Menu) --&gt;
  &lt;aside class="side-panel" id="contextPanel"&gt;
    &lt;div class="panel-content"&gt;
      &lt;h3&gt;Game Options&lt;/h3&gt;
      &lt;button class="panel-action tv-nav-focusable"&gt;Launch Game&lt;/button&gt;
      &lt;button class="panel-action tv-nav-focusable"&gt;View Achievements&lt;/button&gt;
      &lt;button class="panel-action tv-nav-focusable"&gt;Manage Game&lt;/button&gt;
      &lt;button class="panel-action tv-nav-focusable"&gt;Uninstall&lt;/button&gt;
    &lt;/div&gt;
  &lt;/aside&gt;
&lt;/div&gt;</code></pre>
        </div>

        <div id="gaming-css" class="code-content">
            <pre><code>/* Gaming Console Interface CSS */
.gaming-dashboard {
  min-height: 100vh;
  background: #1e1e1e;
  color: #ffffff;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  overflow: hidden;
}

.gaming-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 20px 40px;
  background: rgba(30, 30, 30, 0.95);
  backdrop-filter: blur(20px);
  border-bottom: 2px solid #107c10;
}

.header-nav {
  display: flex;
  gap: 5px;
}

.nav-tab {
  background: transparent;
  border: none;
  color: #cccccc;
  padding: 12px 24px;
  border-radius: 20px;
  cursor: pointer;
  transition: all 0.3s ease;
  font-weight: 600;
}

.nav-tab.active,
.nav-tab.tv-nav-focused {
  background: #107c10;
  color: white;
  transform: scale(1.05);
}

.gaming-content {
  padding: 40px;
  height: calc(100vh - 120px);
  overflow-y: auto;
}

.content-section {
  display: none;
}

.content-section.active {
  display: block;
}

.featured-game {
  position: relative;
  height: 50vh;
  border-radius: 12px;
  overflow: hidden;
  margin-bottom: 40px;
  background: linear-gradient(135deg, #107c10 0%, #2d5a2d 100%);
}

.featured-background {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1;
}

.featured-background img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  opacity: 0.7;
}

.featured-content {
  position: relative;
  z-index: 2;
  padding: 60px;
  background: linear-gradient(90deg, rgba(0,0,0,0.8) 0%, transparent 60%);
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.game-title {
  font-size: 4rem;
  font-weight: 900;
  margin-bottom: 20px;
  text-shadow: 2px 2px 8px rgba(0,0,0,0.8);
}

.featured-actions {
  display: flex;
  gap: 20px;
  margin-top: 30px;
}

.btn-play-large {
  background: #107c10;
  color: white;
  border: none;
  padding: 18px 36px;
  border-radius: 8px;
  font-size: 1.3rem;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
}

.btn-play-large.tv-nav-focused {
  background: #0e6b0e;
  transform: scale(1.08);
  box-shadow: 0 10px 30px rgba(16, 124, 16, 0.5);
}

.tile-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
  grid-auto-rows: 200px;
}

.game-tile {
  position: relative;
  border-radius: 12px;
  overflow: hidden;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  background: #2d2d30;
  border: 3px solid transparent;
}

.game-tile.large {
  grid-row: span 2;
  grid-column: span 2;
}

.game-tile img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.game-tile.tv-nav-focused {
  transform: scale(1.1) translateZ(0);
  border-color: #107c10;
  box-shadow: 0 20px 40px rgba(16, 124, 16, 0.4);
  z-index: 10;
}

.tile-info {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(transparent, rgba(0,0,0,0.9));
  padding: 20px;
  transform: translateY(100%);
  transition: transform 0.3s ease;
}

.game-tile.tv-nav-focused .tile-info {
  transform: translateY(0);
}

.achievement-tile,
.store-tile,
.friends-tile {
  display: flex;
  align-items: center;
  padding: 20px;
  background: linear-gradient(135deg, #2d2d30 0%, #424245 100%);
  border: 3px solid transparent;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.achievement-tile.tv-nav-focused,
.store-tile.tv-nav-focused,
.friends-tile.tv-nav-focused {
  border-color: #107c10;
  background: linear-gradient(135deg, #107c10 0%, #2d5a2d 100%);
  transform: scale(1.05);
}

.achievement-icon,
.store-icon,
.friends-icon {
  font-size: 2.5rem;
  margin-right: 15px;
}

.side-panel {
  position: fixed;
  top: 120px;
  right: -400px;
  width: 350px;
  height: calc(100vh - 120px);
  background: rgba(30, 30, 30, 0.98);
  backdrop-filter: blur(20px);
  border-left: 3px solid #107c10;
  transition: right 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  z-index: 1000;
}

.side-panel.active {
  right: 0;
}

.panel-content {
  padding: 40px 30px;
}

.panel-action {
  width: 100%;
  background: transparent;
  border: 2px solid #107c10;
  color: white;
  padding: 15px 20px;
  margin-bottom: 10px;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
  text-align: left;
}

.panel-action.tv-nav-focused {
  background: #107c10;
  transform: scale(1.02);
}</code></pre>
        </div>

        <div id="gaming-js" class="code-content">
            <pre><code>// Gaming Console Interface JavaScript
class GamingDashboard {
  constructor() {
    this.currentSection = 'home';
    this.contextPanelOpen = false;
    this.games = [];
    this.init();
  }

  init() {
    this.setupNavigation();
    this.setupGameActions();
    this.setupContextMenu();
    this.loadGamesLibrary();
    this.setupAchievements();
  }

  setupNavigation() {
    // Section switching
    document.querySelectorAll('.nav-tab').forEach(tab => {
      tab.addEventListener('click', () => {
        this.switchSection(tab.dataset.section);
      });
    });

    // Enhanced gamepad support
    document.addEventListener('tv-nav-navigate', (e) => {
      const { direction, from, to } = e.detail;
      
      // Handle grid navigation optimization
      if (this.isInTileGrid(to)) {
        this.optimizeGridNavigation(direction, from, to);
      }
    });

    // Xbox button behavior (Menu/Guide)
    document.addEventListener('keydown', (e) => {
      // Xbox button equivalent
      if (e.code === 'MetaLeft' || e.code === 'XboxButton') {
        e.preventDefault();
        this.toggleQuickMenu();
      }
      
      // View button (context menu)
      if (e.code === 'F2' || e.code === 'XboxView') {
        e.preventDefault();
        this.toggleContextPanel();
      }
    });
  }

  setupGameActions() {
    document.addEventListener('tv-nav-activate', (e) => {
      const element = e.detail.element;
      
      if (element.classList.contains('game-tile')) {
        this.selectGame(element);
      } else if (element.classList.contains('btn-play-large')) {
        this.launchFeaturedGame();
      } else if (element.classList.contains('achievement-tile')) {
        this.showAchievements();
      } else if (element.classList.contains('store-tile')) {
        this.openStore();
      } else if (element.classList.contains('friends-tile')) {
        this.showFriends();
      }
    });

    // Long press for context menu
    let pressTimer;
    document.addEventListener('mousedown', (e) => {
      if (e.target.classList.contains('game-tile')) {
        pressTimer = setTimeout(() => {
          this.showGameContextMenu(e.target);
        }, 800);
      }
    });

    document.addEventListener('mouseup', () => {
      clearTimeout(pressTimer);
    });
  }

  setupContextMenu() {
    // Menu button shows context panel
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ContextMenu' || e.code === 'XboxMenu') {
        e.preventDefault();
        
        const currentGame = tvNav.currentFocus?.closest('.game-tile');
        if (currentGame) {
          this.showGameContextMenu(currentGame);
        }
      }
    });
  }

  switchSection(sectionName) {
    // Hide current section
    document.querySelectorAll('.content-section').forEach(section => {
      section.classList.remove('active');
    });

    // Update nav tabs
    document.querySelectorAll('.nav-tab').forEach(tab => {
      tab.classList.remove('active');
    });

    // Show new section
    const newSection = document.querySelector(`[data-section="${sectionName}"]`);
    newSection.classList.add('active');
    
    const newTab = document.querySelector(`.nav-tab[data-section="${sectionName}"]`);
    newTab.classList.add('active');

    this.currentSection = sectionName;

    // Focus first element in new section
    const firstFocusable = newSection.querySelector('.tv-nav-focusable');
    if (firstFocusable) {
      tvNav.setFocus(firstFocusable);
    }

    // Load section-specific content
    this.loadSectionContent(sectionName);
  }

  async loadSectionContent(sectionName) {
    switch (sectionName) {
      case 'games':
        await this.loadGamesLibrary();
        break;
      case 'store':
        await this.loadStoreContent();
        break;
      case 'friends':
        await this.loadFriendsContent();
        break;
    }
  }

  async loadGamesLibrary() {
    try {
      const response = await fetch('/api/games/library');
      const games = await response.json();
      this.renderGamesGrid(games);
    } catch (error) {
      console.error('Failed to load games library:', error);
      this.renderOfflineGames();
    }
  }

  renderGamesGrid(games) {
    const gamesGrid = document.querySelector('.games-grid');
    gamesGrid.innerHTML = '';

    games.forEach(game => {
      const gameElement = this.createGameElement(game);
      gamesGrid.appendChild(gameElement);
      
      // Make focusable
      tvNav.addFocusableElement(gameElement);
    });
  }

  createGameElement(game) {
    const gameElement = document.createElement('div');
    gameElement.className = 'game-tile tv-nav-focusable';
    gameElement.dataset.gameId = game.id;
    gameElement.dataset.gameTitle = game.title;

    gameElement.innerHTML = `
      &lt;img src="${game.thumbnail}" alt="${game.title}" loading="lazy"&gt;
      &lt;div class="tile-info"&gt;
        &lt;h3&gt;${game.title}&lt;/h3&gt;
        &lt;p&gt;${game.status}&lt;/p&gt;
        &lt;div class="game-stats"&gt;
          &lt;span&gt;${game.playtime} played&lt;/span&gt;
          &lt;span&gt;${game.achievements} achievements&lt;/span&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    `;

    return gameElement;
  }

  selectGame(gameElement) {
    const gameId = gameElement.dataset.gameId;
    const gameTitle = gameElement.dataset.gameTitle;

    // Visual feedback
    this.highlightGame(gameElement);

    // Launch game or show options
    if (this.isGameInstalled(gameId)) {
      this.showLaunchOptions(gameId, gameTitle);
    } else {
      this.showInstallOptions(gameId, gameTitle);
    }
  }

  launchFeaturedGame() {
    tvNav.showLoading(true);
    tvNav.playSound('success');
    
    setTimeout(() => {
      tvNav.showLoading(false);
      tvNav.showToast('Launching Halo Infinite...', 'success');
      
      // Simulate game launch
      this.simulateGameLaunch('halo-infinite');
    }, 2000);
  }

  showGameContextMenu(gameElement) {
    const gameId = gameElement.dataset.gameId;
    const gameTitle = gameElement.dataset.gameTitle;

    // Update context panel content
    this.updateContextPanel(gameId, gameTitle);
    
    // Show panel
    this.toggleContextPanel(true);
  }

  updateContextPanel(gameId, gameTitle) {
    const panelContent = document.querySelector('.panel-content');
    
    panelContent.innerHTML = `
      &lt;h3&gt;${gameTitle}&lt;/h3&gt;
      &lt;button class="panel-action tv-nav-focusable" data-action="launch"&gt;Launch Game&lt;/button&gt;
      &lt;button class="panel-action tv-nav-focusable" data-action="achievements"&gt;View Achievements&lt;/button&gt;
      &lt;button class="panel-action tv-nav-focusable" data-action="manage"&gt;Manage Game&lt;/button&gt;
      &lt;button class="panel-action tv-nav-focusable" data-action="share"&gt;Share&lt;/button&gt;
      &lt;button class="panel-action tv-nav-focusable" data-action="uninstall"&gt;Uninstall&lt;/button&gt;
    `;

    // Add event listeners to panel actions
    panelContent.querySelectorAll('.panel-action').forEach(action => {
      action.addEventListener('click', () => {
        this.handlePanelAction(action.dataset.action, gameId);
      });
    });
  }

  toggleContextPanel(show = null) {
    const panel = document.getElementById('contextPanel');
    
    if (show !== null) {
      this.contextPanelOpen = show;
    } else {
      this.contextPanelOpen = !this.contextPanelOpen;
    }

    if (this.contextPanelOpen) {
      panel.classList.add('active');
      
      // Focus first panel action
      const firstAction = panel.querySelector('.panel-action');
      if (firstAction) {
        tvNav.setFocus(firstAction);
      }
    } else {
      panel.classList.remove('active');
    }
  }

  handlePanelAction(action, gameId) {
    switch (action) {
      case 'launch':
        this.launchGame(gameId);
        break;
      case 'achievements':
        this.showGameAchievements(gameId);
        break;
      case 'manage':
        this.showGameManagement(gameId);
        break;
      case 'share':
        this.shareGame(gameId);
        break;
      case 'uninstall':
        this.uninstallGame(gameId);
        break;
    }
    
    this.toggleContextPanel(false);
  }

  // Performance optimization for grid navigation
  optimizeGridNavigation(direction, from, to) {
    // Predict next navigation and preload content
    const tileIndex = Array.from(to.parentNode.children).indexOf(to);
    
    if (direction === 'right' && tileIndex % 6 === 5) {
      // Near row end, preload more content
      this.preloadMoreGames();
    }
  }

  isInTileGrid(element) {
    return element.closest('.tile-grid') !== null;
  }

  // Achievement system integration
  setupAchievements() {
    // Listen for achievement unlocks
    document.addEventListener('achievement-unlocked', (e) => {
      const achievement = e.detail;
      this.showAchievementNotification(achievement);
    });
  }

  showAchievementNotification(achievement) {
    const notification = document.createElement('div');
    notification.className = 'achievement-notification';
    notification.innerHTML = `
      &lt;div class="achievement-icon"&gt;üèÜ&lt;/div&gt;
      &lt;div class="achievement-text"&gt;
        &lt;h4&gt;Achievement Unlocked!&lt;/h4&gt;
        &lt;p&gt;${achievement.name}&lt;/p&gt;
        &lt;span&gt;${achievement.points} points&lt;/span&gt;
      &lt;/div&gt;
    `;

    document.body.appendChild(notification);
    
    // Animate in
    setTimeout(() => notification.classList.add('show'), 100);
    
    // Auto remove
    setTimeout(() => {
      notification.classList.remove('show');
      setTimeout(() => notification.remove(), 500);
    }, 4000);
  }
}

// Initialize Gaming Dashboard
document.addEventListener('tv-nav-ready', () => {
  const gamingDashboard = new GamingDashboard();
  window.gamingDashboard = gamingDashboard;
});</code></pre>
        </div>
    </div>

    <div class="example-section">
        <div class="example-header">
            <h2>‚ö° Performance Monitoring Utilities</h2>
            <p>Built-in tools for monitoring and optimizing TV navigation performance</p>
        </div>

        <pre><code>// TV Navigation Performance Monitor
class TVNavPerformanceMonitor {
  constructor(framework) {
    this.framework = framework;
    this.metrics = {
      navigationLatency: [],
      focusUpdates: 0,
      memoryUsage: [],
      gamepadPolling: 0,
      audioPerformance: []
    };
    this.isMonitoring = false;
    this.startTime = performance.now();
    
    this.init();
  }

  init() {
    this.setupEventListeners();
    this.startMonitoring();
  }

  setupEventListeners() {
    // Monitor navigation performance
    document.addEventListener('tv-nav-navigate', (e) => {
      this.recordNavigationLatency(e.detail);
    });

    // Monitor focus updates
    document.addEventListener('tv-nav-focus', () => {
      this.metrics.focusUpdates++;
    });

    // Monitor memory usage
    setInterval(() => {
      this.recordMemoryUsage();
    }, 5000);
  }

  startMonitoring() {
    this.isMonitoring = true;
    
    // Performance dashboard
    this.createPerformanceDashboard();
    
    // Console logging
    console.log('üìä TV Navigation Performance Monitor Started');
    
    // Report every 30 seconds
    setInterval(() => {
      this.generatePerformanceReport();
    }, 30000);
  }

  recordNavigationLatency(detail) {
    const latency = performance.now() - this.lastNavigationTime;
    this.metrics.navigationLatency.push(latency);
    this.lastNavigationTime = performance.now();
    
    // Warn about slow navigation
    if (latency > 300) {
      console.warn(`‚ö†Ô∏è Slow navigation detected: ${latency.toFixed(2)}ms`);
    }
  }

  recordMemoryUsage() {
    if ('memory' in performance) {
      const memInfo = performance.memory;
      this.metrics.memoryUsage.push({
        used: memInfo.usedJSHeapSize,
        total: memInfo.totalJSHeapSize,
        limit: memInfo.jsHeapSizeLimit,
        timestamp: Date.now()
      });
      
      // Clean old data (keep last 50 records)
      if (this.metrics.memoryUsage.length > 50) {
        this.metrics.memoryUsage.shift();
      }
    }
  }

  createPerformanceDashboard() {
    const dashboard = document.createElement('div');
    dashboard.id = 'tv-nav-perf-dashboard';
    dashboard.className = 'tv-nav-perf-dashboard';
    dashboard.innerHTML = `
      &lt;div class="perf-header"&gt;
        &lt;h3&gt;üìä Performance Monitor&lt;/h3&gt;
        &lt;button class="perf-toggle" onclick="tvNavPerf.toggle()"&gt;Hide&lt;/button&gt;
      &lt;/div&gt;
      &lt;div class="perf-metrics"&gt;
        &lt;div class="metric"&gt;
          &lt;label&gt;Avg Navigation:&lt;/label&gt;
          &lt;span id="avg-nav-time"&gt;0ms&lt;/span&gt;
        &lt;/div&gt;
        &lt;div class="metric"&gt;
          &lt;label&gt;Focus Updates:&lt;/label&gt;
          &lt;span id="focus-updates"&gt;0&lt;/span&gt;
        &lt;/div&gt;
        &lt;div class="metric"&gt;
          &lt;label&gt;Memory Usage:&lt;/label&gt;
          &lt;span id="memory-usage"&gt;0 MB&lt;/span&gt;
        &lt;/div&gt;
        &lt;div class="metric"&gt;
          &lt;label&gt;FPS:&lt;/label&gt;
          &lt;span id="fps-counter"&gt;60&lt;/span&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;div class="perf-chart"&gt;
        &lt;canvas id="perf-chart-canvas" width="300" height="100"&gt;&lt;/canvas&gt;
      &lt;/div&gt;
    `;

    // Style the dashboard
    dashboard.style.cssText = `
      position: fixed;
      top: 10px;
      right: 10px;
      width: 320px;
      background: rgba(0, 0, 0, 0.9);
      color: white;
      padding: 15px;
      border-radius: 8px;
      font-family: monospace;
      font-size: 12px;
      z-index: 10000;
      backdrop-filter: blur(10px);
      border: 1px solid #333;
    `;

    document.body.appendChild(dashboard);

    // Start updating dashboard
    this.updateDashboard();
  }

  updateDashboard() {
    setInterval(() => {
      // Update average navigation time
      const avgNav = this.getAverageNavigationTime();
      const avgNavEl = document.getElementById('avg-nav-time');
      if (avgNavEl) avgNavEl.textContent = `${avgNav.toFixed(1)}ms`;

      // Update focus updates
      const focusEl = document.getElementById('focus-updates');
      if (focusEl) focusEl.textContent = this.metrics.focusUpdates;

      // Update memory usage
      const memoryEl = document.getElementById('memory-usage');
      if (memoryEl && this.metrics.memoryUsage.length > 0) {
        const latest = this.metrics.memoryUsage[this.metrics.memoryUsage.length - 1];
        const memMB = (latest.used / 1024 / 1024).toFixed(1);
        memoryEl.textContent = `${memMB} MB`;
      }

      // Update FPS
      this.updateFPS();
      
      // Update chart
      this.updateChart();
    }, 1000);
  }

  updateFPS() {
    let lastTime = performance.now();
    let frames = 0;
    
    const countFrame = () => {
      frames++;
      const currentTime = performance.now();
      
      if (currentTime >= lastTime + 1000) {
        const fps = Math.round((frames * 1000) / (currentTime - lastTime));
        const fpsEl = document.getElementById('fps-counter');
        if (fpsEl) {
          fpsEl.textContent = fps;
          fpsEl.style.color = fps < 30 ? '#ff4444' : fps < 50 ? '#ffaa44' : '#44ff44';
        }
        
        frames = 0;
        lastTime = currentTime;
      }
      
      requestAnimationFrame(countFrame);
    };
    
    requestAnimationFrame(countFrame);
  }

  updateChart() {
    const canvas = document.getElementById('perf-chart-canvas');
    if (!canvas) return;
    
    const ctx = canvas.getContext('2d');
    const width = canvas.width;
    const height = canvas.height;
    
    // Clear canvas
    ctx.clearRect(0, 0, width, height);
    
    // Draw memory usage chart
    if (this.metrics.memoryUsage.length > 1) {
      ctx.strokeStyle = '#00ff00';
      ctx.lineWidth = 2;
      ctx.beginPath();
      
      const maxMemory = Math.max(...this.metrics.memoryUsage.map(m => m.used));
      
      this.metrics.memoryUsage.forEach((mem, index) => {
        const x = (index / (this.metrics.memoryUsage.length - 1)) * width;
        const y = height - ((mem.used / maxMemory) * height);
        
        if (index === 0) {
          ctx.moveTo(x, y);
        } else {
          ctx.lineTo(x, y);
        }
      });
      
      ctx.stroke();
    }
  }

  getAverageNavigationTime() {
    if (this.metrics.navigationLatency.length === 0) return 0;
    
    const sum = this.metrics.navigationLatency.reduce((a, b) => a + b, 0);
    return sum / this.metrics.navigationLatency.length;
  }

  generatePerformanceReport() {
    const report = {
      timestamp: new Date().toISOString(),
      runtime: performance.now() - this.startTime,
      navigation: {
        averageLatency: this.getAverageNavigationTime(),
        totalNavigations: this.metrics.navigationLatency.length,
        slowNavigations: this.metrics.navigationLatency.filter(l => l > 300).length
      },
      focus: {
        totalUpdates: this.metrics.focusUpdates,
        updatesPerMinute: (this.metrics.focusUpdates / ((performance.now() - this.startTime) / 60000)).toFixed(2)
      },
      memory: this.getMemoryReport(),
      recommendations: this.generateRecommendations()
    };

    console.group('üìä TV Navigation Performance Report');
    console.table(report.navigation);
    console.table(report.focus);
    console.table(report.memory);
    
    if (report.recommendations.length > 0) {
      console.warn('‚ö†Ô∏è Performance Recommendations:');
      report.recommendations.forEach(rec => console.warn(`‚Ä¢ ${rec}`));
    }
    
    console.groupEnd();

    return report;
  }

  getMemoryReport() {
    if (this.metrics.memoryUsage.length === 0) return {};
    
    const latest = this.metrics.memoryUsage[this.metrics.memoryUsage.length - 1];
    const first = this.metrics.memoryUsage[0];
    
    return {
      current: `${(latest.used / 1024 / 1024).toFixed(1)} MB`,
      peak: `${(Math.max(...this.metrics.memoryUsage.map(m => m.used)) / 1024 / 1024).toFixed(1)} MB`,
      growth: `${((latest.used - first.used) / 1024 / 1024).toFixed(1)} MB`,
      utilization: `${((latest.used / latest.limit) * 100).toFixed(1)}%`
    };
  }

  generateRecommendations() {
    const recommendations = [];
    
    // Check navigation performance
    const avgNav = this.getAverageNavigationTime();
    if (avgNav > 200) {
      recommendations.push('Navigation latency is high. Consider reducing visual effects or debounce delay.');
    }
    
    // Check memory usage
    if (this.metrics.memoryUsage.length > 0) {
      const latest = this.metrics.memoryUsage[this.metrics.memoryUsage.length - 1];
      const utilization = (latest.used / latest.limit) * 100;
      
      if (utilization > 80) {
        recommendations.push('Memory usage is high. Consider implementing element virtualization.');
      }
    }
    
    // Check focus update frequency
    const focusRate = this.metrics.focusUpdates / ((performance.now() - this.startTime) / 1000);
    if (focusRate > 10) {
      recommendations.push('High focus update rate detected. Consider optimizing focus change frequency.');
    }
    
    return recommendations;
  }

  toggle() {
    const dashboard = document.getElementById('tv-nav-perf-dashboard');
    if (dashboard) {
      dashboard.style.display = dashboard.style.display === 'none' ? 'block' : 'none';
    }
  }

  // Benchmarking utilities
  benchmark(name, fn, iterations = 100) {
    const times = [];
    
    for (let i = 0; i < iterations; i++) {
      const start = performance.now();
      fn();
      const end = performance.now();
      times.push(end - start);
    }
    
    const avg = times.reduce((a, b) => a + b) / times.length;
    const min = Math.min(...times);
    const max = Math.max(...times);
    
    console.log(`üî¨ Benchmark: ${name}`);
    console.log(`   Average: ${avg.toFixed(3)}ms`);
    console.log(`   Min: ${min.toFixed(3)}ms`);
    console.log(`   Max: ${max.toFixed(3)}ms`);
    
    return { avg, min, max, times };
  }

  // Memory leak detection
  detectMemoryLeaks() {
    if (!('memory' in performance)) {
      console.warn('Memory leak detection not available in this browser');
      return;
    }

    const baseline = performance.memory.usedJSHeapSize;
    
    // Force garbage collection if available
    if (window.gc) {
      window.gc();
    }
    
    setTimeout(() => {
      const current = performance.memory.usedJSHeapSize;
      const diff = current - baseline;
      
      if (diff > 1024 * 1024) { // 1MB increase
        console.warn(`üî• Potential memory leak detected: ${(diff / 1024 / 1024).toFixed(1)}MB increase`);
      } else {
        console.log(`‚úÖ Memory usage stable: ${(diff / 1024).toFixed(1)}KB difference`);
      }
    }, 5000);
  }
}

// Auto-initialize performance monitor in debug mode
if (localStorage.getItem('tv-nav-debug') === 'true') {
  document.addEventListener('tv-nav-ready', () => {
    window.tvNavPerf = new TVNavPerformanceMonitor(window.tvNav);
  });
}</code></pre>

        <div class="note">
            <strong>üí° Performance Tips:</strong>
            <ul>
                <li>Enable performance monitoring in development: <code>localStorage.setItem('tv-nav-debug', 'true')</code></li>
                <li>Use the benchmark utility to test custom navigation logic</li>
                <li>Monitor memory usage during long sessions</li>
                <li>Keep navigation latency under 200ms for smooth experience</li>
            </ul>
        </div>
    </div>

    <script>
        function showTab(tabId) {
            // Hide all content
            document.querySelectorAll('.code-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active from all tabs
            document.querySelectorAll('.code-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected content
            document.getElementById(tabId).classList.add('active');
            
            // Mark tab as active
            event.target.classList.add('active');
        }
    </script>
</body>
</html>